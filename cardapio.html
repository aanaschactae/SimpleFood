<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seu Card√°pio Personalizado</title>
    <link rel="stylesheet" href="style.css">
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #A9B388;
            color: #F9EBC7;
            text-align: center;
            padding: 20px;
        }

        .cardapio {
            background-color: #5F6F52;
            border-radius: 15px;
            padding: 20px;
            display: inline-block;
            text-align: left;
            margin-top: 20px;
            max-width: 600px;
        }

        h2, h3 {
            color: #F9EBC7;
        }

        .info {
            margin-bottom: 20px;
        }
    </style>
</head>
<body>

    <header>
        <h2>SimpleFood</h2>
        <nav>
            <a href="index.html">In√≠cio</a>
            <a href="monte-cardapio.html">Novo Card√°pio</a>
            <a href="imc.html">Recalcular IMC</a>
        </nav>
    </header>

    <main>
        <h1>Seu Card√°pio Personalizado üçΩÔ∏è</h1>
        <div class="info" id="infoUsuario"></div>
        <div class="cardapio" id="cardapio"></div>
    </main>

    <script>
        // Recuperar dados do localStorage
        const nome = localStorage.getItem("nomeUsuario");
        const objetivo = localStorage.getItem("objetivoUsuario");
        const restricoes = (localStorage.getItem("restricoesUsuario") || "").toLowerCase();
        const imc = parseFloat(localStorage.getItem("imcUsuario"));

        const infoDiv = document.getElementById("infoUsuario");
        const cardapioDiv = document.getElementById("cardapio");

        // Verifica se os dados b√°sicos est√£o preenchidos
        if (!nome || !objetivo) {
            infoDiv.innerHTML = "<p>Por favor, preencha o question√°rio antes de acessar o card√°pio.</p>";
        } else {
            // Mostra informa√ß√µes do usu√°rio
            infoDiv.innerHTML = `
                <h2>Ol√°, ${nome}!</h2>
                <p><strong>IMC:</strong> ${imc || "n√£o informado"}</p>
                <p><strong>Objetivo:</strong> ${objetivo}</p>
                <p><strong>Restri√ß√µes:</strong> ${restricoes || "Nenhuma informada"}</p>
            `;
        }

        // Fun√ß√£o para gerar card√°pio com base nos dados
        function gerarCardapio(objetivo, restricoes, imc) {
            let plano = "";

            // --- Combina√ß√µes espec√≠ficas de objetivo + restri√ß√£o ---
            if (objetivo === "emagrecimento" && restricoes.includes("vegetariana")) {
                plano = `
                    <h3>Caf√© da manh√£</h3>
                    <p>Vitamina de banana com aveia e linha√ßa</p>
                    <h3>Almo√ßo</h3>
                    <p>Tofu grelhado, arroz integral, legumes e salada verde</p>
                    <h3>Jantar</h3>
                    <p>Sopa de lentilha com cenoura e torradas integrais</p>
                `;
            } 
            else if (objetivo === "emagrecimento" && restricoes.includes("lactose")) {
                plano = `
                    <h3>Caf√© da manh√£</h3>
                    <p>Leite vegetal com frutas e chia</p>
                    <h3>Almo√ßo</h3>
                    <p>Frango grelhado, pur√™ de batata-doce e legumes</p>
                    <h3>Jantar</h3>
                    <p>Caldo de ab√≥bora com torradas sem lactose</p>
                `;
            } 
            else if (objetivo === "ganho_massa" && restricoes.includes("vegetariana")) {
                plano = `
                    <h3>Caf√© da manh√£</h3>
                    <p>P√£o integral com pasta de amendoim e suco natural</p>
                    <h3>Almo√ßo</h3>
                    <p>Arroz, feij√£o, lentilha e ovos mexidos</p>
                    <h3>Jantar</h3>
                    <p>Macarr√£o integral com br√≥colis e queijo vegetal</p>
                `;
            }
            else if (objetivo === "ganho_massa" && restricoes.includes("lactose")) {
                plano = `
                    <h3>Caf√© da manh√£</h3>
                    <p>Vitamina com leite vegetal, aveia e banana</p>
                    <h3>Almo√ßo</h3>
                    <p>Carne magra, arroz integral, feij√£o e salada</p>
                    <h3>Jantar</h3>
                    <p>Omelete com legumes e torradas</p>
                `;
            }
            else if (objetivo === "saude") {
                plano = `
                    <h3>Caf√© da manh√£</h3>
                    <p>Iogurte natural com frutas e granola</p>
                    <h3>Almo√ßo</h3>
                    <p>Prato colorido com verduras, gr√£os e prote√≠na leve</p>
                    <h3>Jantar</h3>
                    <p>Salada com mix de folhas e quinoa</p>
                `;
            }
            else if (objetivo === "energia") {
                plano = `
                    <h3>Caf√© da manh√£</h3>
                    <p>Panqueca de aveia com mel e frutas</p>
                    <h3>Almo√ßo</h3>
                    <p>Gr√£os, vegetais e castanhas</p>
                    <h3>Lanche</h3>
                    <p>Iogurte com granola e frutas secas</p>
                `;
            }
            else if (objetivo === "manutencao") {
                plano = `
                    <h3>Caf√© da manh√£</h3>
                    <p>P√£o integral com queijo branco e caf√©</p>
                    <h3>Almo√ßo</h3>
                    <p>Arroz, feij√£o, legumes e prote√≠na equilibrada</p>
                    <h3>Jantar</h3>
                    <p>Crepioca leve com suco natural</p>
                `;
            }

            // --- Ajuste extra com base no IMC ---
            if (imc < 18.5) {
                plano += "<p><em>Seu IMC indica baixo peso. Recomendamos aumentar a ingest√£o de prote√≠nas e calorias saud√°veis.</em></p>";
            } else if (imc >= 25) {
                plano += "<p><em>Seu IMC indica sobrepeso. Prefira alimentos leves e ricos em fibras.</em></p>";
            } else {
                plano += "<p><em>Seu IMC est√° dentro da faixa ideal. Continue mantendo h√°bitos equilibrados!</em></p>";
            }

            return plano;
        }

        // Mostrar o card√°pio
        const cardapioGerado = gerarCardapio(objetivo, restricoes, imc);
        cardapioDiv.innerHTML = cardapioGerado || "<p>Nenhum card√°pio gerado. Verifique suas respostas.</p>";
    </script>
</body>
</html>
